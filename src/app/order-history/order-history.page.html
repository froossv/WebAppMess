<ion-header>
  <app-toolbar></app-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-item lines="none">  
    <ion-label class="head">
        STUDENT HISTORY
    </ion-label>
  </ion-item>
  <ion-searchbar [(ngModel)]="searchnumber" color="light" placeholder="Register Number" type="number"></ion-searchbar>
  <ion-button (click)="onGo()">Go</ion-button>
  <div style="clear:both;"></div>
  <ion-card *ngIf="months.length">
    <ion-list>
      <ion-list-header>
        <ion-label>Months</ion-label>
      </ion-list-header>
      <ion-item *ngFor="let element of months" class="monthsitem" (click)="filterMonth(element)" [class.click]="element.selected">
        <ion-label>{{element.month}}</ion-label>
        <ion-icon name="arrow-forward" mode="ios" slot="end"></ion-icon>
      </ion-item>
    </ion-list>
  </ion-card>
  <ion-list class="list" *ngIf="months.length">
      <ion-list-header>
        <ion-label>Register number: {{numbersearched}}</ion-label>
      </ion-list-header>
      <ion-item lines="none">
          <ion-icon slot="start" name="pizza" color="primary"></ion-icon>
          <ion-label> </ion-label>
          <ion-icon name="logo-buffer" color="primary"></ion-icon>
          <ion-label>Quantity</ion-label>
          <ion-icon name="pricetag" color="primary"></ion-icon>
          <ion-label>Price</ion-label>
          <ion-icon name="cash" class="cashicon" color="primary"></ion-icon>
          <ion-label slot="end">Amount</ion-label>
      </ion-item>
      <ion-item-group *ngFor="let month of full_data">
        <ng-container *ngIf="month.selected">
          <ion-item-divider>
            <ion-label>
              {{month.date}}
            </ion-label>
          </ion-item-divider>
          <ion-item *ngFor="let entry of month.items">
            <ion-label>{{entry.itemname}}</ion-label>
            <ion-label>{{entry.quantity}}</ion-label>
            <ion-label>{{entry.price}}</ion-label>
            <ion-label slot="end">{{entry.quantity}} x {{entry.price}} = {{entry.quantity*entry.price}}</ion-label>
          </ion-item>
        </ng-container>
      </ion-item-group>
      <ion-item>
          <ion-label slot="end">    Total:    {{totalAmt}}</ion-label>
        </ion-item>
    </ion-list>
</ion-content>
